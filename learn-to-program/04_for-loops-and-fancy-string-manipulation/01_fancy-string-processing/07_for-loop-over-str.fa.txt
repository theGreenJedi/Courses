قبلا آموختیم که هر کاراکتر string با ضریبی مربوط میشود. و یاد گرفتیم که چگونه با ضریب به هر کاراکتری دسترسی پیدا کنیم. در این مبحث از چیزی به نام چرخهfor برای به کاراکترهای یک string به نوبت و یکی یکی دسترسی یابیم. برای شروع کار از سفقهدل موسوم به hi thereاستفاده میکنم. و از این stringدر چرخه for اولیه استفاده میکنم چرخه ای که میخواهیم که هر کاراکتر آن را یکی یکی چاپ کنیم. Char،آن متغیرC-H-A-R مخفف کاراکتر است. و این نام متغیر هست. مقدار char با پیشرفت برنامه در چرخه عوض خواهد شد. در اولین دور در چرخه،char در موقعیت صفر مقدار sرا به خود میگیرد، کهh هست،آنگاه h چاپ میشود. در جریان دومین دور در چرخه مقدار char عوض میشود،پس char اکنون به کسب کاراکتر 1 ازs،که i باشد نائل میشود. و i چاپ میشود. در جریان سومین دور در چرخه،char مقداری متناسب با موقعیت دو ازs را کسب میکند که فضای خالی باشد،و بنابراین آن فضای خالی چاپ میشود. و این الگو تا بموقعی که به انتهای string برسیم ادامه مییابد. پس هر کاراکترs هر دفعه یکی یکی چاپ میشود. char نام متغیر هست. خیلی راحت میتواستیم چیز دیگری به جای آن انتخاب کنیم. مثلا،این معادل است. برایbanana در s،چاپ کن banana البته،بهترین کار این است که برای نام متغیرنام بامسمایی انتخاب شود که نشان دهد که آن متغیر نشانگر چیست. اینجا چرخه for دیگری است. در این چرخه،دو دستور چاپ هست. بنابراین متغیر charدو دفعه چاپ میشود. ابتدا،در اولین دور گردش در چرخه،h به charتعلق میگیرد. و hدوبار چاپ میشود،آنگاه به char حرفi تعلق میگیرد و i دوبار چاپ میشود و.و...تا آخر چرخه به s برسد. اکنون از چرخه forبرای حل مساله بهره میگیریم. اولی شمارش تعداد حروف صدا دار در string هست. میخواهم که با دو مثال از فراخواندن تابع شروع کنم. اسم تابع را میگذارمcount_vowels، و آن یک مولفه تکی میگیرد. اولین مثال مولفه اش Happy Anniversary است. و در این حالت تابع باید پنج را تحویل دهد. [صدا]strig بعدی،xyz، هیچ حرف صدا داری ندارد،پس تابع باید صفر را تحویل دهد. طبق قراردادمان تایپ کنیم،یک پارامتر stringداریم،و تابع یک عدد صحیح تحویل میدهد. و اکنون عنوان تابع را مینویسیم. نام تابع count_vowels است. و یک پارامتر دارد. میخواهم که نام آن پارامتر را s بگذارم. نقش این تابع این است کهتعداد حروف صدا دار را در s را تحویل میدهد. ممکن است به فراخوانی تابع مثالی که در آن y را نگنجانده ایم توجه کرده باشید،بنابراین نیاز است که آن را به توضیحات خود اضافه کنم. حرف y را به عنوان حرف صدا دار در نظر نداریم. اکنون میتوانیم بدنه تابع را بنویسیم. قبل از این که این برنامه را بنویسم دوست دارم که با تفکر درباره آنچه که باید پاسخ فراخوانی مثالی تابع باشد،شروع کنیم. آن چه که انجام دادم تحت نظر گرفتن تک تک کاراکترهای string هست که با hشروع میشود. آنگاه بهh نظر کردم و دیدم که حرف صدا دار نیست ولی aهست،پس رد ش را گرفتم. آنگاه به ppy فضای خالی نظر انداختم و با حرف صدا دار دیگری برخوردم،nni یکی دیگر است،ve rs و آنگاه a دیگر،پنج تا است. ryو علامت تعجب. پس بانگاه به یکی یکی کاراکترهای stringمیبینیم که پنج حرف صدا دار داریم. با روش کاری که هم اکنون عرضه شد باید الگوی برنامه را بریزیم. پس میخواهیم که رد تعداد حروف صدا داری که تا به حال دیده ایم را داشته باشیم. و در ابتدا،حروف صدا دار صفر بود. پس میخواهم که با استفاده ازnun_vowels ردش را داشته باشم. با گذر از string و بررسی یکی یکی کاراکترها و انجام آن با استفاده از چرخه for پس برای هر کاراکتری در s میخواهیم که بررسی کرده و ببینیم که آیا آن کاراکتر حرف صدا دار هست یا خیر. میتوانم از عبارت ifبرای کنترل شرایط بهره ببرم. بنابراین در صورتی که کاراکتری در string به شرحaeiou کوچک و AEIOU بزرگ ظاهر شود حرف صدادار به حساب میاید. و در آن صورت میخواهیم که مقدار nun_vowels را یکی یکی زیاد کنیم. به طوری که nun_vowels مقدار جاری خود به علاوه یک را بگیرد. بعد از اینکه این چرخه از نظر عملکرد برنامه در کامپیوتر پایان پذیرفت،و از کلیه کاراکترهای string رد شدیم،nun_vowels دارای جمع کل حروف صدادار در s خواهد بود،و آن کا مقداری هست که تحویل میدهیم. لحظه ای درنگ کنیم و در مورد عبارات این تمرین تفکر کنیم. به سمت راست این عبارت تمرینی توجه کنید عبارت درگیر متغیر nun_vowels هست. تصور کنید که عبارت nun_vowels که در خارج چرخه انجام شد آنجا نبود. وقتی که عبارت تمرینی را فعال میکنیم و دنبال مقدار nun_vowels میگردیم خطای نام پیش میاید،پس آن عبارت تمرینی که ما در ابتدا برای شروع nun_vowelsبا صفر به کار بردیم بسیار کلیدی است. اکنون برنامه را به جریان میاندازیم،فراخوانی مثالی را کنترل کنیم. پس ابتدا برنامه را به جریان میاندازیم، و آنگاه در فراخوان shellحروف صدا دار را میشماریم. با Happy Anniversary پنج،و با xyz صفر به دست آمد. متغیر num_vowels یک جمع آوری کن است،زیرا اطلاعات را جمع میکند. مقدار اولیه صفر و هر وقتی که حرف صدا داری پیدا شود مقدار آن یکی بالا میرود. بعد ازاینکه هر حرفی در x بررسی و کلیه حروف صدا دار شمارش شده باشند ،چرخه پایان مییابد. مطابق با آنچه که در مساله بعدی خواهیم دید،جمع کننده ها لزوما عددی نیستند . کار بعدی ما تحویل یک string است که شامل کلیه حروف صدا دار در string معینی هست. میخواهم که دوباره با فراخوان مثالی شروع کنم. و میتوانیم که از همان مثالهایی استفاده کنیم که در تابع قبلی خودمان از آن استفاده کردیم پس،نام این تابعcollect_vowels خواهد بود زیرا میخواهیم که آنها را در یک string فراهم کنیم. و با داشتن string به شرح Happy Anniversry باید string با حروف کوچک a. حروف بزرگ A,I,E,دوباره حرف کوچک a را تحویل دهد در حالتیکه هیچ حرف صدا داری در string نباشد، باید string خالی را تحویل بدهد. پس این درست مثل یک علامت نقل قول باز،نقل قول بسته است. تایپ طبق قرارداد،یک پارامتر به صورت string را گرفته و یک string تحویل میدهد. و نام تابع همان طور که دیده ایم collect_vowels هست. دوباره،نام پارامتر را s میگذارم. و نقش این تابع آن است که از s حروف صدا دار تحویل دهد. در این مورد نیزY حرف صدا دار به حساب نمیاید. مثل همان کاری که با count_vowels انجام دادیم میخواهم با توجه به نحوه حل این مساله وقتی که معلوم میکردیم که فراخوان مثالی باید چه چیزی را تحویل دهد. تک تک کاراکترهای string را بررسی کردم،پس اول به H نگاه میکنم، و آنگاه a،و وقتی که به حرف صدادار برخوردیم رد آن را دنبال میکنیم به طوری که ppy و بعد a دیگر. پس میخواهم که رد آن دوتایی را که گرفتم دنبال کنم. nni و غیره. پس در string کاراکتر به کاراکتر گذر میکنم و وقتی که حرف صداداری را مییابم آن را به مجموعه کاراکترهایی که تا کنون دیده ام میافزایم. هم اکنون این تابع را به کار ببریم. مانند گذشته نیاز است که اطلاعاتی را جمع کنیم. سابق عدد صحیح بود، این بار میخواهیم که اطلاعات را در یک stringجمع آوری کنیم. به این ترتیب متغیر vowelsرا جهت ارجاع به یک string به کار میبریم. و این string در اول کار تهی است. تا به حال حرف صداداری ندیده ام. میخواهیم که کاراکتر به کاراکتر string رابا استفاده از چرخه for بررسی کنیم و کنترل کنیم که آیا آن کاراکتر حرف صدا دار هست یا نه دقیقا با همان روش کاری که اولین بار داشتیم. در صورتی که کاراکتر حرف صدا دار باشد، میخواهم به مجموعه حروف صداداری که تاکنون دیده ام اضافه شود. پس متغیر vowel من به مقدار اصلی ،کاراکتری که هم اکنون دیده شده را میافزاید. از این عملگر تجمیع ساز برای افزودن کاراکتر به string جاری حروف صدا دار استفاده میشود. در انتهای تابع،آنجا که به جریان انداختن چرخه for پایان یافت و هر کاراکتری از string بررسی شده،حروف صدادار مربوط به string میشود که تک تک حروف صدادار از s را دارد وآن چیزی است که تحویل داده میشود. نیاز است که تابع را بیازماییم پس برنامه را به جریان میاندازیم،و آنگاه تابع آزمون را در shellفرا میخوانیم. Collect vowelsیک string که انتظارش را داریم و این فراخوان با مولفه ای دیگر نیز string را که انتظارش را داریم تحویل میدهد. مثل متغیر nun_vowels که متغیر vowel جمع کننده هم هست. با به جریان افتادن برنامه تابع در کامپیوتر string را جمع آوری میکند. مثل nun_vowels که با صفر شروع شد و زیاد شد،حروف صدا دار از تهی شده،و نیز زیاد میشود.