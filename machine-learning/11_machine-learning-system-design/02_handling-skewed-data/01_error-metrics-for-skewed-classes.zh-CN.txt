在前面的课程中 我提到了误差分析 以及设定误差度量值的重要性 那就是 设定某个实数来评估你的学习算法 并衡量它的表现 有了算法的评估 和误差度量值 有一件重要的事情要注意 就是使用一个合适的误差度量值 这有时会对于你的学习算法 造成非常微妙的影响 这件重要的事情就是 偏斜类（skewed classes）的问题 让我告诉你这是什么意思 想一想之前的癌症分类问题 我们拥有 内科病人的特征变量 我们希望知道他们是否患有癌症 因此这就像恶性 与良性肿瘤的分类问题 我们之前讲过这个 我们假设 y=1 表示患者患有癌症 假设 y=0 表示他们没有得癌症 我们训练逻辑回归模型 假设我们用测试集 检验了这个分类模型 并且发现它只有1%的错误 因此我们99%会做出正确诊断 看起来是非常不错的结果 我们99%的情况都是正确的 但是 假如我们发现 在测试集中 只有0.5%的患者 真正得了癌症 因此 在我们的筛选程序里 只有0.5%的患者患了癌症 因此在这个例子中 1%的错误率就不再显得那么好了 举个具体的例子 这里有一行代码 不是机器学习代码 它忽略了输入值X 它让y总是等于0 因此它总是预测 没有人得癌症 那么这个算法实际上只有 0.5%的错误率 因此这甚至比 我们之前得到的1%的错误率更好 这是一个 非机器学习算法 因为它只是预测y总是等于0 这种情况发生在 正例和负例的比率 非常接近于 一个极端 在这个例子中 正样本的数量 与负样本的数量相比 非常非常少 因为y=1非常少 我们把这种情况叫做 偏斜类 一个类中的样本数 与另一个类的数据相比 多很多 通过总是预测y=0 或者 总是预测y=1 算法可能表现非常好 因此使用分类误差 或者分类精确度 来作为评估度量可能会产生如下问题 假如说你有一个算法 它的精确度是99.2% 因此它只有0.8%的误差 假设 你对你的算法做出了一点改动 现在你得到了 99.5%的精确度 只有0.5%的误差 这到底是不是算法的一个提升呢 用某个实数来 作为评估度量值 的一个好处就是 它可以帮助我们迅速决定 我们是否需要对算法做出一些改进 将精确度从99.2%提高到99.5% 但是我们的改进到底是有用的 还是说 我们只是把代码替换成了 例如总是预测y=0 这样的东西 因此如果你有一个偏斜类 用分类精确度 并不能很好地衡量算法 因为你可能会获得一个很高的精确度 非常低的错误率 但是我们并不知道 我们是否真的提升了 分类模型的质量 因为总是预测y=0 并不是一个 好的分类模型 但是总是预测y=0 会将你的误差降低至 比如 降低至0.5% 当我们遇到 这样一个偏斜类时 我们希望有一个 不同的误差度量值 或者不同的评估度量值 其中一种评估度量值 叫做查准率（precision）和召回率（recall） 让我来解释一下 假设我们正在用测试集来评估一个分类模型 对于 测试集中的样本 每个测试集中的样本 都会等于 0或者1 假设这是一个二分问题 我们的学习算法 要做的是 做出值的预测 并且学习算法 会为每一个 测试集中的实例 做出预测 预测值也是等于0或1 让我画一个 2x2的表格 基于所有这些值 基于 实际的类与预测的类 如果 有一个样本它实际所属的类是1 预测的类也是1 那么 我们把这个样本叫做真阳性（true positive） 意思是说我们的学习算法 预测这个值为阳性 实际上这个样本也确实是阳性 如果我们的学习算法 预测某个值是阴性 等于0 实际的类也确实属于0 那么我们把这个叫做真阴性（true negative） 我们预测为0的值实际上也等于0 还剩另外的两个单元格 如果我们的学习算法 预测某个值等于1 但是实际上它等于0 这个叫做假阳性（false positive） 比如我们的算法 预测某些病人患有癌症 但是事实上他们并没有得癌症 最后 这个单元格是 1和0 这个叫做假阴性（false negative） 因为我们的算法预测值为0 但是实际值是1 这样 我们有了一个2x2的表格 基于 实际类与预测类 这样我们有了一个 另一种方式来 评估算法的表现 我们要计算两个数字 第一个叫做查准率 这个意思是 对于所有我们预测 他们患有癌症的病人 有多大比率的病人是真正患有癌症的 让我把这个写下来 一个分类模型的查准率 等于 真阳性除以 所有我们预测为阳性 的数量 对于那些病人 我们告诉他们 "你们患有癌症" 对于这些病人而言 有多大比率是真正患有癌症的 这个就叫做查准率 另一个写法是 分子是真阳性 分母是 所有预测阳性的数量 那么这个等于 表格第一行的值 的和 也就是真阳性除以真阳性... 这里我把阳性简写为 POS 加上假阳性 这里我还是把阳性简写为POS 这个就叫做查准率 查准率越高就越好 这是说 对于那些病人 我们告诉他们 "非常抱歉 我们认为你得了癌症" 高查准率说明 对于这类病人 我们对预测他们得了癌症 有很高的准确率 另一个数字我们要计算的 叫做召回率 召回率是 如果所有的病人 假设测试集中的病人 或者交叉验证集中的 如果所有这些在数据集中的病人 确实得了癌症 有多大比率 我们正确预测他们得了癌症 如果所有的病人 都患了癌症 有多少人我们能够 正确告诉他们 你需要治疗 把这个写下来 召回率被定义为 真阳性 的数量 意思是我们正确预测 患有癌症的人 的数量 我们用这个来 除以 实际阳性 这个值是 所有患有癌症的人的数量 有多大比率 我们能正确发现癌症 并给予治疗 把这个以另一种形式 写下来 分母是 实际阳性的数量 表格第一列值的和 将这个以不同的形式写下来 那就是 真阳性除以 真阳性 加上 假阴性 同样地 召回率越高越好 通过计算查准率 和召回率 我们能更好的知道 分类模型到底好不好 具体地说 如果我们有一个算法 总是预测y=0 它总是预测 没有人患癌症 那么这个分类模型 召回率等于0 因为它不会有 真阳性 因此我们能会快发现 这个分类模型 总是预测y=0 它不是一个好的模型 总的来说 即使我们有一个 非常偏斜的类 算法也不能够 "欺骗"我们 仅仅通过预测 y总是等于0 或者y总是等于1 它没有办法得到 高的查准率 和高的召回率 因此我们 能够更肯定 拥有高查准率或者高召回率的模型 是一个好的分类模型 这给予了我们一个 更好的评估值 给予我们一种更直接的方法 来评估模型的好与坏 最后一件需要记住的事 在查准率和召回率的定义中 我们定义 查准率和召回率 我们总是习惯性地用y=1 如果这个类出现得非常少 因此如果我们试图检测 某种很稀少的情况 比如癌症 我希望它是个很稀少的情况 查准率和召回率 会被定义为 y=1 而不是y=0 作为某种我们希望检测的 出现较少的类 通过使用查准率和召回率 我们发现 即使我们拥有 非常偏斜的类 算法不能够 通过总是预测y=1 来"欺骗"我们 或者总是预测y=0 因为它不能够获得高查准率和召回率 具体地说 如果一个分类模型 拥有高查准率和召回率 那么 我们可以确信地说 这个算法表现很好 即便我们拥有很偏斜的类 因此对于偏斜类的问题 查准率和召回率 给予了我们更好的方法 来检测学习算法表现如何 这是一种 更好地评估学习算法的标准 当出现偏斜类时 比仅仅只用分类误差或者分类精度好 【教育无边界字幕组】翻译: 御姐sama 校对/审核: 所罗门捷列夫