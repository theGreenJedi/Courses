이 번 비디오에서는, noramal equation과 
역행렬이 없는 경우에 대해 이야기해보겠습니다. 좀 더 어려운 개념이지만, 가끔 질문이 들어오곤 합니다. 그래서 여기서 설명하고자 합니다. 그래도, 다소 어려울수도 있으니 부담없이 들으셔도 됩니다. 이해하면 더 좋을 수도 있습니다. 하지만, 이해를 못하더라도, normal equation이나 선형회귀를 하는데에는 전혀 지장이 없습니다. 문제를 보도록 하죠 선형대수학에 익숙한 사람들이 몇 몇 질문하는데, θ=(X'X)^-1 X'y를 계산할 때, 행렬 X'X의 역행렬이 없으면 어떻게 되냐고 묻습니다. 선형대수학을 배운 사람들은 역행렬을 구할 수 있는 행렬은 한정되어 있고, 그 외의 행렬은 역행렬이 없다는 것을 알고있을 것입니다.
이 때 그 행렬은 비가역행렬(non-invertible matrix), 특이 행렬(singular matrix) 혹은
degenerate matrix라고 부릅니다. 사실 X'X의 역행렬이 없는 경우는 거의 없습니다. 그리고 Octave에서는 이런 경우에 θ를 구할 때도, 올바른 값을 구해줍니다. 전문적인 내용이라, 자세히 설명할 수는 없지만, octave는 역행렬을 구하는데 두 개의 함수를 제공합니다. 하나는 pinv(), 다른 하나는 inv()입니다. 그리고 이 둘은 기술적으로 차이점을 가지고 있습니다. 하나는 pseudo-inverse라 부르고, 하나는 inverse라 부릅니다. pinv 함수를 사용하면, X'X의 역행렬이 없더라도, θ값을 정확히 계산하는 것을 볼 수 있습니다. inv와 pinv는 무엇이 다른지 상세한 차이에 대해서는 어려운 수치 계산에 관한 개념이라, 여기서는 다루지 않을 것입니다. 하지만, 다른 수업 비디오에서, X'X의 역행렬이 없을 때, 의미하는게 무엇인지 직관적으로 다룰 것입니다. 선형대수학을 배운 사람들에게는 흥미로울 것입니다. 수학적으로 증명하지는 않겠지만, X'X가 역행렬이 없을 때 원인은, 대체로 두 개입니다. 첫 번째 원인으로, 문제에서 불필요한 feature를 가지고 있는 경우입니다 구체적인 예로, 집값을 예측하려고 하는데, 
x_1은 집의 크기가 피트, 평방 피트 단위이고, x_2도 집의 크기이며, 
단위는 제곱미터단위인 경우를 보죠. 음, 1미터는 두 자리수까지 반올림하여, 3.28 피트입니다. 그래서, 두 개의 feature는 x_1=(3.28)^2 x_2라는 관계를 가집니다. 선형대수학 전문가라면 알 수 있을 것입니다. 두 feature가 서로 관련이 있고 이와 같은 선형방정식이라면, 행렬 X'X 역행렬이 없다는게 증명됩니다. X'X가 역행렬이 없는 두 번째 이유는, 많은 feature를 가지고 학습 알고리즘을 사용 할 때입니다. 구체적인 예를 들자면, m이 n보다 작거나 같을 때입니다. 즉, m = 10 training example 이고, n이 100 feature라면, 파라미터 벡터 θ는 (n+1)차원입니다. 즉, 101차원이 되고, 10개의 training example로 101개의 파라미터를 표현하려 하는 것입니다. 이러면, 가끔은 잘 동작하겠지만, 좋지 않은 생각입니다. 나중에 보게 되겠지만, 10개의 example을 가지고, 100개나 101개의 파라미터를 표현하려한다면, data가 충분하지 않기 때문입니다. 어째서 data가 적으면, 많은 파라미터를 표현할 수 없는지도 역시 뒤에서 다루겠습니다. 하지만 m이 n보다 작을 때는 보통, feature 몇 개를 없애거나 egularization이라는 기술을 사용합니다. regularization 역시 나중에 배우겠지만, 
많은 feature로 많은 파라미터를 표현하는 것을 
적은 training set으로도 가능하게 해주는 방법입니다. 하지만, regularization은 강의 후반부에 배울 주제입니다. 정리하자면, X'X가 특이행렬이거나 역행렬이 없을 경우
제가 추천하는 방법은, feature를 보고 x_1, x_2같은 
불필요한 feature가 있는지 찾아보는 것입니다. 선형적으로 종속성이면, 
서로 선형 함수가 되고 있다고 해도 무방합니다. 불필요한 feature가 있으면 그것들 중 하나를 지우면 좋습니다. 두 개를 지울 필요는 없어요. 하나를 지우면, 역행렬이 없는 문제가 해결될 것입니다. 그래서 저같은 경우는 feature중에서 불필요한게 있는지부터 확인합니다. 불필요한게 있으면 없어질때까지 feature를 지웁니다. feature중에서 불필요한게 없다면, feature가 많은지 확인합니다. 많다면, 없어도 상관 없는 feature 몇 개를 지우고, 아니면 regularization을 사용해야할지 고려합니다. regularization에 대해서는 나중에 얘기하겠습니다. 이상이 normal equation에서 행렬 X'X가 역행렬이 없을 때 무엇을 의미하는지에 대한 이야기였습니다. 하지만, 이러한 문제는 거의 나타나지 않을 것입니다. 게다가 octave에서 구현할 때는, pinv가 있습니다. pinv 함수는 pseudo-inverse함수입니다. 만약 다른 선형대수학 라이브러리를 사용한다면
 pseudo-inverse라 불리는 것을 사용하면 됩니다. 어찌됫든 pinv는 X'X의 역행렬이 없더라도, 올바르게 계산을 해줍니다.
사실 그런 경우가 거의 일어나지 않기 때문에 선형회귀 구현에서 크게 문제가 되지는 않을 것입니다.