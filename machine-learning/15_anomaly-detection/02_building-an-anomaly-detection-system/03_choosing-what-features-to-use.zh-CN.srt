1
00:00:00,200 --> 00:00:01,770
在此之前 你已经学习了

2
00:00:02,250 --> 00:00:03,540
异常检测算法 并且

3
00:00:03,740 --> 00:00:05,240
我们也讨论了如何

4
00:00:05,570 --> 00:00:06,870
评估一个异常检测算法

5
00:00:07,330 --> 00:00:08,880
事实上

6
00:00:09,530 --> 00:00:10,800
当你应用异常检测时

7
00:00:11,170 --> 00:00:12,400
对它的效率

8
00:00:12,460 --> 00:00:13,290
影响最大的

9
00:00:13,720 --> 00:00:14,860
因素之一是

10
00:00:14,940 --> 00:00:16,440
你使用什么特征变量

11
00:00:16,520 --> 00:00:17,720
你选择什么特征变量

12
00:00:18,530 --> 00:00:19,910
来输入异常检测算法

13
00:00:20,830 --> 00:00:22,170
那么 在本视频中

14
00:00:22,280 --> 00:00:23,390
我将要做的事情就是

15
00:00:23,480 --> 00:00:24,890
给你们一些建议

16
00:00:25,000 --> 00:00:26,250
关于如何设计或选择

17
00:00:26,370 --> 00:00:27,920
异常检测算法的

18
00:00:28,470 --> 00:00:30,950
特征变量

19
00:00:33,920 --> 00:00:35,310
在我们的异常检测算法中

20
00:00:36,120 --> 00:00:37,270
我们做的事情之一就是

21
00:00:37,510 --> 00:00:40,330
使用这种正态(高斯)分布来对特征向量建模

22
00:00:41,180 --> 00:00:42,810
就是有 xi 服从正态分布 期望为μi

23
00:00:43,120 --> 00:00:46,050
方差为 σi 平方

24
00:00:46,550 --> 00:00:47,890
那么 我常做的一件事

25
00:00:47,950 --> 00:00:49,620
就是画出这些数据

26
00:00:50,670 --> 00:00:52,260
或者用直方图表示数据

27
00:00:52,330 --> 00:00:53,490
以确保

28
00:00:53,940 --> 00:00:55,210
这些数据在

29
00:00:55,540 --> 00:00:57,320
应用我的异常检测算法前

30
00:00:57,470 --> 00:00:58,830
看起来像高斯分布

31
00:00:59,810 --> 00:01:01,040
当然即使你的数据并不是高斯分布

32
00:01:01,610 --> 00:01:02,820
它也基本上可以良好地运行

33
00:01:03,400 --> 00:01:05,700
它也基本上可以良好地运行

34
00:01:05,970 --> 00:01:06,860
如果你的数据

35
00:01:07,400 --> 00:01:09,540
看起来不像正态分布 算法也常常可以正常运行

36
00:01:10,410 --> 00:01:12,070
但是具体而言

37
00:01:12,430 --> 00:01:13,510
我将数据画成这样

38
00:01:13,850 --> 00:01:15,280
如果它的柱状图看起来

39
00:01:15,370 --> 00:01:16,480
像这样 另外说一下

40
00:01:16,630 --> 00:01:17,800
画柱状图的方法是

41
00:01:17,950 --> 00:01:19,910
使用 hist 命令

42
00:01:20,130 --> 00:01:21,820
就是 Octave 里面的 hist 命令

43
00:01:21,910 --> 00:01:22,800
但看起来好像

44
00:01:23,010 --> 00:01:24,770
这个图形近似像一个高斯分布

45
00:01:24,940 --> 00:01:26,200
所以如果我的特征变量是这样的

46
00:01:26,480 --> 00:01:29,970
那么我可以很高兴地把它们送入我的学习算法了

47
00:01:30,180 --> 00:01:31,830
但如果我画出来的

48
00:01:31,950 --> 00:01:33,070
直方图是这样的话

49
00:01:33,210 --> 00:01:34,800
好吧

50
00:01:35,060 --> 00:01:36,090
那么这就看起来完全不像钟形曲线

51
00:01:36,220 --> 00:01:38,430
这个分布很不对称

52
00:01:39,410 --> 00:01:40,660
它的峰值非常偏向一边

53
00:01:41,750 --> 00:01:42,660
如果我的数据是这样的话

54
00:01:42,800 --> 00:01:43,960
通常我要做的事情

55
00:01:44,190 --> 00:01:45,370
是对数据进行一些不同的转换

56
00:01:45,730 --> 00:01:46,920
来确保这些数据

57
00:01:47,010 --> 00:01:48,850
看起来更像高斯分布

58
00:01:49,480 --> 00:01:51,940
虽然通常来说你不这么做 算法也会运行地很好

59
00:01:52,590 --> 00:01:53,660
但如果你使用一些转换方法

60
00:01:54,630 --> 00:01:56,590
使你的数据更像高斯分布的话 你的算法会工作得更好

61
00:01:58,030 --> 00:01:59,780
所以

62
00:02:00,140 --> 00:02:01,340
如果给我这样的数据集

63
00:02:01,430 --> 00:02:02,810
我通常要做的是

64
00:02:03,010 --> 00:02:04,520
进行一个求对数的转换

65
00:02:04,660 --> 00:02:05,930
如果我这样做的话

66
00:02:06,060 --> 00:02:07,810
重新把直方图画出来

67
00:02:08,150 --> 00:02:09,110
对于这个具体的例子

68
00:02:09,330 --> 00:02:10,500
我就会得到

69
00:02:11,130 --> 00:02:12,400
像这样的一个直方图

70
00:02:12,540 --> 00:02:14,470
这样就看起来更像高斯分布了 对吧？

71
00:02:14,650 --> 00:02:15,720
这看起来就更像

72
00:02:16,690 --> 00:02:18,020
典型的钟形曲线

73
00:02:18,710 --> 00:02:21,000
这样我就能拟合出期望和方差参数了

74
00:02:22,180 --> 00:02:22,940
所以这里我说的

75
00:02:23,230 --> 00:02:24,610
进行一个取对数的转换

76
00:02:24,860 --> 00:02:26,140
意思是这样的

77
00:02:26,860 --> 00:02:28,260
如果我有一个特征变量 比如 x1

78
00:02:28,720 --> 00:02:30,500
直方图是这样的

79
00:02:31,070 --> 00:02:32,210
那么我就用 x1 的对数

80
00:02:32,410 --> 00:02:33,890
log(x1) 来替换掉 x1

81
00:02:34,800 --> 00:02:36,730
所以 经过替换

82
00:02:36,860 --> 00:02:37,880
这就是我的新 x1

83
00:02:38,170 --> 00:02:40,000
我把它的直方图画在右边

84
00:02:40,430 --> 00:02:42,350
这看起来更像高斯分布了

85
00:02:44,000 --> 00:02:44,730
除了取对数变换之外

86
00:02:44,920 --> 00:02:46,020
还有别的一些方法也可以用

87
00:02:46,110 --> 00:02:47,720
假如这是另一个特征 x2

88
00:02:48,690 --> 00:02:49,840
现在我用 log(x2 + 1) 来取代

89
00:02:50,120 --> 00:02:52,560
或者更一般地

90
00:02:52,630 --> 00:02:54,720
我可以在 x2 后面加上

91
00:02:56,360 --> 00:02:57,690
某个常数 c 

92
00:02:58,430 --> 00:03:00,350
然后求对数来取代 x2

93
00:03:00,520 --> 00:03:01,540
我会调整这个常数 c 的值

94
00:03:01,890 --> 00:03:04,390
使得这个分布看起来尽可能地像高斯分布

95
00:03:05,610 --> 00:03:06,820
或者对于另一个特征 x3

96
00:03:07,200 --> 00:03:08,610
也许我可以用

97
00:03:09,730 --> 00:03:11,250
它的平方根来取代

98
00:03:11,610 --> 00:03:14,180
x3 的平方根也就是 x3 的二分之一次方 对吧？

99
00:03:15,260 --> 00:03:16,660
而这个 二分之一 

100
00:03:17,130 --> 00:03:19,220
又是一个可以由我来确定的参数

101
00:03:19,640 --> 00:03:21,600
所以 或许对另一个特征 x4

102
00:03:22,450 --> 00:03:23,820
我可以用 x4 的另一个幂次方

103
00:03:24,410 --> 00:03:25,370
来取代 x4

104
00:03:25,730 --> 00:03:26,790
比如说可以用

105
00:03:26,890 --> 00:03:28,460
三分之一次幂

106
00:03:28,940 --> 00:03:30,830
所有这些

107
00:03:30,900 --> 00:03:32,320
所有这些参数

108
00:03:32,540 --> 00:03:33,670
这个指数参数

109
00:03:33,810 --> 00:03:35,110
或者这个参数 c

110
00:03:35,380 --> 00:03:36,880
所有这些参数你都可以进行调整

111
00:03:36,960 --> 00:03:38,110
目的只有一个

112
00:03:38,460 --> 00:03:40,420
就是让数据看起来更像高斯分布

113
00:03:45,180 --> 00:03:46,210
下面我给你演示一下

114
00:03:46,740 --> 00:03:48,720
如何对这些参数进行调整

115
00:03:49,150 --> 00:03:50,690
来让我的数据看起来更像高斯分布

116
00:03:51,650 --> 00:03:52,370
这里我已经在 Octave 中

117
00:03:52,750 --> 00:03:54,730
加载了一系列特征 x

118
00:03:54,860 --> 00:03:56,170
这里我加载了1000个样本

119
00:03:57,150 --> 00:03:57,870
这里我加载了1000个样本

120
00:03:58,580 --> 00:04:00,100
所以让我们来画出数据的直方图

121
00:04:01,560 --> 00:04:02,570
使用 hist(x) 命令

122
00:04:03,190 --> 00:04:04,100
这就是我的直方图了

123
00:04:05,660 --> 00:04:06,580
默认情况下

124
00:04:06,680 --> 00:04:08,250
直方图有十个柱

125
00:04:08,610 --> 00:04:10,400
可以重新把样条设置地更好一点

126
00:04:11,330 --> 00:04:12,950
我们输入 hist(x, 50)

127
00:04:13,050 --> 00:04:14,970
这样就画出了50个柱

128
00:04:15,310 --> 00:04:15,660
这样看起来好多了

129
00:04:16,180 --> 00:04:18,570
但现在看起来还不够"高斯"

130
00:04:18,930 --> 00:04:20,720
所以下面我们来调整一下参数

131
00:04:20,900 --> 00:04:22,310
首先试试 x 的0.5次方

132
00:04:22,610 --> 00:04:24,810
也就是说

133
00:04:25,090 --> 00:04:26,590
我们对数据取平方根

134
00:04:26,870 --> 00:04:28,820
然后画出直方图

135
00:04:30,670 --> 00:04:31,680
好了 现在看起来

136
00:04:31,800 --> 00:04:32,870
有那么一点像高斯分布了

137
00:04:32,960 --> 00:04:34,550
但还是不够好 我们再调整一下

138
00:04:34,790 --> 00:04:35,330
我们来看

139
00:04:36,520 --> 00:04:38,110
把0.5减小到0.2试试

140
00:04:38,280 --> 00:04:39,780
又更像高斯分布了一点

141
00:04:40,930 --> 00:04:43,150
我们再减小一点 试试0.1

142
00:04:44,450 --> 00:04:45,220
耶！好极了

143
00:04:45,500 --> 00:04:48,440
所以我可以使用0.1

144
00:04:48,880 --> 00:04:50,190
我们再试试更小的 0.05

145
00:04:50,520 --> 00:04:50,910
然后 你看

146
00:04:51,740 --> 00:04:52,750
这样看起来更像高斯分布了

147
00:04:53,230 --> 00:04:54,090
因此 我们可以定义一个

148
00:04:54,190 --> 00:04:55,510
新的特征变量 xNew

149
00:04:56,110 --> 00:04:58,940
等于 x 的0.05次方

150
00:04:59,620 --> 00:05:01,380
现在我的新特征变量

151
00:05:01,610 --> 00:05:03,050
xNew 比原来的特征变量

152
00:05:03,250 --> 00:05:04,490
看起来更具像高斯分布

153
00:05:04,510 --> 00:05:05,560
因此我就可以用这个新的

154
00:05:05,850 --> 00:05:07,070
特征变量来输入到我的

155
00:05:07,380 --> 00:05:09,390
异常检测算法中

156
00:05:10,150 --> 00:05:12,100
当然 实现这一功能的方法不唯一

157
00:05:12,410 --> 00:05:14,530
你也可以用 hist(log(x), 50)

158
00:05:14,710 --> 00:05:17,320
这是另一种你可以选择的转换方法

159
00:05:18,270 --> 00:05:20,410
这同样会让你的数据看起来更像高斯分布

160
00:05:20,870 --> 00:05:22,040
所以 我们也可以

161
00:05:22,230 --> 00:05:23,760
让 xNew 等于 log(x)

162
00:05:24,220 --> 00:05:25,120
这是另一种可以选用的

163
00:05:25,300 --> 00:05:26,890
很好的特征变量

164
00:05:28,040 --> 00:05:29,400
我们来总结一下

165
00:05:29,520 --> 00:05:30,580
如果你画出数据的直方图

166
00:05:31,000 --> 00:05:31,690
并且发现图形看起来

167
00:05:31,940 --> 00:05:33,460
非常不像正态分布

168
00:05:33,740 --> 00:05:35,110
那么应该进行一些

169
00:05:35,280 --> 00:05:37,120
不同的转换 就像这些

170
00:05:37,290 --> 00:05:38,190
通过这些方法

171
00:05:38,300 --> 00:05:39,410
来让你的数据看起来

172
00:05:39,570 --> 00:05:40,520
更具有高斯分布的特点

173
00:05:40,770 --> 00:05:41,970
然后你再把数据输入到学习算法

174
00:05:42,050 --> 00:05:43,550
虽然说 你不这么做也可以

175
00:05:43,850 --> 00:05:45,070
但我通常还是会进行这一步

176
00:05:45,850 --> 00:05:46,880
下面我想讲第二个问题

177
00:05:46,970 --> 00:05:48,280
那就是你如何得到

178
00:05:48,400 --> 00:05:51,540
异常检测算法的特征变量

179
00:05:52,650 --> 00:05:53,780
我通常用的办法是

180
00:05:53,990 --> 00:05:56,490
通过一个误差分析步骤

181
00:05:57,630 --> 00:05:58,590
我的意思是

182
00:05:58,970 --> 00:05:59,960
这跟我们之前

183
00:06:00,320 --> 00:06:02,320
学习监督学习算法时的

184
00:06:02,450 --> 00:06:04,600
误差分析步骤是类似的

185
00:06:04,860 --> 00:06:06,810
也就是说 我们先完整地训练出

186
00:06:06,860 --> 00:06:08,220
一个学习算法

187
00:06:08,350 --> 00:06:09,980
然后在一组交叉验证集上运行算法

188
00:06:10,840 --> 00:06:11,870
然后找出那些预测出错的样本

189
00:06:12,230 --> 00:06:13,500
然后再看看

190
00:06:13,580 --> 00:06:14,800
我们能否找到一些其他的特征变量

191
00:06:15,370 --> 00:06:16,440
来帮助学习算法

192
00:06:16,580 --> 00:06:17,870
让它在那些交叉验证时

193
00:06:18,280 --> 00:06:19,850
判断出错的样本中表现更好

194
00:06:21,060 --> 00:06:23,380
让我们来用一个例子

195
00:06:24,040 --> 00:06:25,960
详细解释一下刚才说的这一过程

196
00:06:26,950 --> 00:06:28,680
在异常检测中

197
00:06:28,880 --> 00:06:29,690
我们希望 p(x) 的值

198
00:06:29,840 --> 00:06:30,910
对正常样本来说是比较大的

199
00:06:31,760 --> 00:06:33,180
而对异常样本来说 值是很小的

200
00:06:34,400 --> 00:06:35,370
因此 一个很常见的问题是

201
00:06:35,950 --> 00:06:37,780
p(x) 是具有可比性的

202
00:06:38,480 --> 00:06:41,540
也许正常样本和异常样本的值都很大

203
00:06:42,940 --> 00:06:44,380
我们来看一个具体点的例子

204
00:06:45,150 --> 00:06:46,760
假如说这是我的无标签数据

205
00:06:47,120 --> 00:06:47,970
那么 我只有一个特征变量 x1

206
00:06:48,210 --> 00:06:51,130
我要用一个高斯分布来拟合它

207
00:06:52,160 --> 00:06:55,990
假如我的数据拟合出的高斯分布是这样的

208
00:06:57,300 --> 00:06:59,130
现在假如我有一个异常样本

209
00:06:59,670 --> 00:07:00,480
假如我的异常样本中

210
00:07:01,080 --> 00:07:02,850
x 的取值为2.5

211
00:07:03,020 --> 00:07:06,420
因此 我画出我的异常样本

212
00:07:07,200 --> 00:07:08,120
你不难发现

213
00:07:08,650 --> 00:07:09,730
它看起来就像被淹没在

214
00:07:09,880 --> 00:07:11,690
一堆正常样本中似的

215
00:07:13,450 --> 00:07:14,850
我用绿色画出来的

216
00:07:15,460 --> 00:07:16,780
这个异常样本

217
00:07:16,820 --> 00:07:18,550
它的概率值很大

218
00:07:18,730 --> 00:07:20,000
是蓝色曲线的高度

219
00:07:20,960 --> 00:07:22,280
而我们的算法

220
00:07:22,390 --> 00:07:23,840
没能把这个样本判断为异常

221
00:07:25,320 --> 00:07:26,600
现在如果说这代表

222
00:07:27,000 --> 00:07:29,540
飞机引擎的制造或者别的什么

223
00:07:29,680 --> 00:07:30,490
那么我会做的是

224
00:07:30,860 --> 00:07:32,370
我会看看我的训练样本

225
00:07:32,840 --> 00:07:34,500
然后看看到底是

226
00:07:34,730 --> 00:07:36,920
哪一个具体的飞机引擎出错了

227
00:07:37,030 --> 00:07:38,360
看看通过这个样本

228
00:07:38,720 --> 00:07:40,720
能不能启发我

229
00:07:40,860 --> 00:07:41,800
想出一个新的特征 x2

230
00:07:42,290 --> 00:07:43,890
来帮助算法区别出

231
00:07:44,650 --> 00:07:46,530
不好的样本

232
00:07:46,900 --> 00:07:47,850
和我剩下的正确的样本

233
00:07:48,530 --> 00:07:49,850
也就是那些红色的叉叉

234
00:07:50,980 --> 00:07:51,600
或者说正常的飞机引擎样本

235
00:07:52,790 --> 00:07:53,840
如果我这样做的话

236
00:07:54,000 --> 00:07:54,910
我们的期望是

237
00:07:55,150 --> 00:07:56,540
创建一个新的特征

238
00:07:56,610 --> 00:07:59,360
x2 使得

239
00:07:59,610 --> 00:08:01,490
当我重新画数据时

240
00:08:01,580 --> 00:08:02,530
如果我用训练集中的

241
00:08:02,770 --> 00:08:04,420
所有正常样本

242
00:08:04,750 --> 00:08:05,560
我应该就会发现

243
00:08:05,710 --> 00:08:07,380
所有的训练样本都是这里的红叉了

244
00:08:08,210 --> 00:08:09,580
我们也希望能看到

245
00:08:09,860 --> 00:08:11,390
对于异常样本

246
00:08:11,480 --> 00:08:13,490
这个新特征变量 x2 的值会看起来是异常的

247
00:08:14,470 --> 00:08:15,820
因此对于我这里的绿色的样本

248
00:08:16,290 --> 00:08:18,670
这是异常的样本 对吧

249
00:08:18,940 --> 00:08:20,800
我的 x1 值仍然是2.5 

250
00:08:21,260 --> 00:08:22,900
那么我的 x2 很有可能

251
00:08:23,290 --> 00:08:24,530
是一个比较大的值

252
00:08:24,840 --> 00:08:26,710
比如这里的3.5

253
00:08:27,940 --> 00:08:28,450
或者一个非常小的值

254
00:08:29,450 --> 00:08:30,530
现在如果我再来给数据建模

255
00:08:30,970 --> 00:08:32,480
我会发现

256
00:08:33,050 --> 00:08:34,660
我的异常检测算法

257
00:08:35,240 --> 00:08:36,830
会在中间区域

258
00:08:37,190 --> 00:08:39,160
给出一个较高的概率

259
00:08:39,200 --> 00:08:42,470
然后越到外层越小

260
00:08:42,660 --> 00:08:43,960
到了那个绿色的样本

261
00:08:44,070 --> 00:08:45,450
我的异常检测算法

262
00:08:45,630 --> 00:08:46,720
会给出非常小的概率值

263
00:08:48,360 --> 00:08:48,360
会给出非常小的概率值

264
00:08:48,510 --> 00:08:49,170
所以这个过程

265
00:08:49,230 --> 00:08:50,320
实际上就是

266
00:08:51,430 --> 00:08:52,570
看看哪里出了错

267
00:08:52,830 --> 00:08:54,370
看看那些

268
00:08:54,580 --> 00:08:56,020
算法没能正确标记的异常点

269
00:08:56,320 --> 00:08:59,100
看看你能不能得到启发来创造新的特征变量

270
00:08:59,590 --> 00:09:01,180
所以也就是说

271
00:09:01,470 --> 00:09:02,590
找一找飞机引擎中的不寻常的问题

272
00:09:02,800 --> 00:09:03,640
然后来建立一些新特征变量

273
00:09:04,530 --> 00:09:05,780
有了这些新的特征变量

274
00:09:05,900 --> 00:09:07,140
应该就能更容易

275
00:09:07,400 --> 00:09:09,250
从正常样本中区别出异常来

276
00:09:09,880 --> 00:09:11,170
这就是误差分析的过程

277
00:09:11,280 --> 00:09:12,600
这就是误差分析的过程

278
00:09:14,020 --> 00:09:15,360
以及如何为异常检查算法

279
00:09:15,750 --> 00:09:17,100
建立新的特征变量

280
00:09:17,770 --> 00:09:18,980
最后 我想与你分享一些

281
00:09:19,090 --> 00:09:20,440
我平时在为异常检查算法

282
00:09:20,630 --> 00:09:23,190
选择特征变量时的一些思考

283
00:09:24,350 --> 00:09:27,700
通常来说 我想到的选择特征变量的方法是

284
00:09:27,960 --> 00:09:29,160
我会选那些取值

285
00:09:29,270 --> 00:09:30,610
既不会特别特别大

286
00:09:30,860 --> 00:09:32,000
也不会特别特别小的

287
00:09:32,110 --> 00:09:33,890
那些特征变量

288
00:09:34,750 --> 00:09:36,420
 比如说

289
00:09:37,850 --> 00:09:38,710
我们还是用这个数据中心中

290
00:09:39,060 --> 00:09:41,820
监控计算机的例子

291
00:09:42,250 --> 00:09:43,560
比如 在一个数据中心

292
00:09:43,630 --> 00:09:44,930
你有很多台电脑

293
00:09:45,170 --> 00:09:47,830
 也许上千 或者上万台

294
00:09:48,310 --> 00:09:49,410
我们想要知道的是

295
00:09:49,580 --> 00:09:50,640
是不是有哪一台机器

296
00:09:50,710 --> 00:09:53,320
运作不正常了

297
00:09:54,180 --> 00:09:56,050
这里给出了几种可选的特征变量

298
00:09:57,020 --> 00:09:59,630
包括占用内存 磁盘每秒访问次数 CPU负载 网络流量

299
00:10:01,040 --> 00:10:01,960
现在假如说

300
00:10:02,220 --> 00:10:03,040
我怀疑某个出错的情况

301
00:10:03,470 --> 00:10:04,580
假如说 我认为

302
00:10:05,230 --> 00:10:06,970
在我的数据中

303
00:10:07,150 --> 00:10:08,460
我的CPU负载和网络流量

304
00:10:08,990 --> 00:10:10,820
应该互为线性关系

305
00:10:11,110 --> 00:10:12,120
可能我运行了一组

306
00:10:12,220 --> 00:10:13,370
网络服务器

307
00:10:13,750 --> 00:10:15,050
如果其中一个服务器

308
00:10:15,310 --> 00:10:16,530
在对许多用户服务

309
00:10:16,850 --> 00:10:19,050
那么我的CPU负载和网络流量都很大

310
00:10:20,230 --> 00:10:21,360
现在假如说

311
00:10:21,840 --> 00:10:23,280
我怀疑其中一个出错的情形

312
00:10:23,390 --> 00:10:24,890
是我的计算机在执行一个任务时

313
00:10:25,180 --> 00:10:26,240
进入了一个死循环

314
00:10:26,530 --> 00:10:29,590
因此被卡住了

315
00:10:29,670 --> 00:10:30,750
意思就是说

316
00:10:30,800 --> 00:10:32,240
假如我感觉

317
00:10:32,420 --> 00:10:33,470
我的其中一台机器

318
00:10:34,380 --> 00:10:36,020
或者说其中一台服务器的代码

319
00:10:36,680 --> 00:10:37,990
执行到一个死循环卡住了

320
00:10:38,230 --> 00:10:39,550
因此CPU负载升高

321
00:10:40,380 --> 00:10:41,490
但网络流量没有升高

322
00:10:41,560 --> 00:10:42,790
因为只是CPU执行了

323
00:10:42,940 --> 00:10:44,570
较多的工作 所以负载较大

324
00:10:44,870 --> 00:10:46,000
卡在了死循环里

325
00:10:46,930 --> 00:10:47,850
在这种情况下

326
00:10:48,240 --> 00:10:49,610
要检测出异常

327
00:10:49,780 --> 00:10:52,440
我可以新建一个特征 x5

328
00:10:53,170 --> 00:10:55,130
x5 等于 CPU负载

329
00:10:56,600 --> 00:11:00,120
除以网络流量

330
00:11:01,230 --> 00:11:02,810
因此 x5 的值

331
00:11:03,180 --> 00:11:04,860
将会变得不寻常地大

332
00:11:05,700 --> 00:11:06,410
如果某一台机器

333
00:11:06,790 --> 00:11:08,190
具有较大的CPU负载

334
00:11:08,470 --> 00:11:09,980
但网络流量正常的话

335
00:11:10,250 --> 00:11:11,030
因此 这将成为一个

336
00:11:11,160 --> 00:11:12,390
很好的特征 能帮助你

337
00:11:12,490 --> 00:11:14,180
检测出某种类型的异常情况

338
00:11:15,000 --> 00:11:16,700
你就会看到有个名为 mycode.R 的文件

339
00:11:16,840 --> 00:11:19,060
用同样的方法得到更多其他的特征

340
00:11:19,230 --> 00:11:20,090
比如说我可以

341
00:11:20,570 --> 00:11:22,050
建立一个特征 x6

342
00:11:22,880 --> 00:11:25,540
等于 CPU负载的平方除以网络流量

343
00:11:27,030 --> 00:11:28,280
这就像是特征 x5 的一个变体

344
00:11:28,950 --> 00:11:29,910
实际上它捕捉的异常

345
00:11:30,020 --> 00:11:32,120
仍然是你的机器

346
00:11:32,280 --> 00:11:33,650
是否具有一个比较高的

347
00:11:33,800 --> 00:11:35,030
CPU 负载 但没有一个

348
00:11:35,290 --> 00:11:37,100
同样很大的网络流量

349
00:11:38,540 --> 00:11:40,080
通过这样的方法

350
00:11:40,290 --> 00:11:41,560
建立新的特征变量

351
00:11:42,770 --> 00:11:44,550
你就可以通过不同特征变量的组合

352
00:11:45,690 --> 00:11:48,270
捕捉到对应的不寻常现象

353
00:11:50,990 --> 00:11:52,090
在这段视频中

354
00:11:52,260 --> 00:11:53,550
我们介绍了如何选择特征

355
00:11:53,690 --> 00:11:54,670
以及对特征进行一些

356
00:11:55,120 --> 00:11:56,680
小小的转换

357
00:11:56,830 --> 00:11:57,910
让数据更像正态分布

358
00:11:58,260 --> 00:12:00,480
然后再把数据输入异常检测算法

359
00:12:00,950 --> 00:12:02,110
同时也介绍了建立特征时

360
00:12:02,740 --> 00:12:04,220
进行的误差分析方法

361
00:12:04,870 --> 00:12:06,710
来捕捉各种异常的可能

362
00:12:07,550 --> 00:12:10,300
希望你通过这些方法

363
00:12:10,850 --> 00:12:12,180
能够了解如何选择好的特征变量

364
00:12:12,460 --> 00:12:14,310
从而帮助你的异常检测算法

365
00:12:14,430 --> 00:12:15,920
捕捉到各种不同的异常情况 【教育无边界字幕组】翻译：所罗门捷列夫 校对：竹二个 审核：小白_远游