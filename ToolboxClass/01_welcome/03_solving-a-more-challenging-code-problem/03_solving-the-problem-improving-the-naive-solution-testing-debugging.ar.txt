في هذا الفيديو، سنستعرض
مسألة برمجية اكثر متعة هذه المسألة تتطلب منا عمل تطبيق
اسرع من التطبيق المباشر للحل اولاً ثم تنقيحه، بعد ذلك  تنفيذ اختبار
 الإجهاد عليه قبل أن نحصل على حل صحيح الذي سيتمكن من اجتياز
 كل الاختبارات في نظام الاختبار الآلي حسنا، يطلق على المسألة مسألة القيمة القصوى 
لناتج الضرب ذو الأولوية. في هذه المسألة، معطى لنا مصفوفة،
او متتالية من الاعداد عددهم ن وهدفنا هو إيجاد 
عدد يمكن استنباطه عن طريق ضرب
 عددين من المتتالية حسنا، تذكر أن المسألة تتألف من
 متتالية من الأعداد الصحيحة الموجبة ﻹيجاد القيمة القصوى من ناتج
 حاصل ضرب أي عددين في المتتالية لذلك تتألف المدخلات لهذه المسألة
 من سطرين السطر الأول يحتوي على
العدد ن حيث أن ن على الأقل 2 و
على الأكثر 2 مضروب في 10 أس 5 السطر الثاني يتألف من متتالية
من ن من الأعداد الصحيحة الموجبة التي لا تتجاوز
 قيمة أي عدد فيها 10 أس 5 هدفنا هو الحصول القيمة القصوى لحاصل 
ضرب أي عددين من الأعداد في المتتالية الصفحة تحتوي كذلك على نموذجّي اختبار على سبيل المثال، إذا كانت المدخلات
 للبرنامج عبارة عن متتالية من 3 أعداد تتألف من الأعداد 1 و2 و3
عندها بالطبع سنحصل على الناتج 6 لان القيمة القصوى لحاصل ضرب 
أي عددين في المتتالية هو 2 في 3 لمتتالية اكبر نوعا ما تتألف من 10 أعداد الناتج يجب أن يكون 140 وهذا حاصل ضرب 10 في 14 وكالعادة هناك قسم يحوي على ملفات ابتدائية فهيا نبدأ، سنختار لغة سي بلس بلس 
لهذه المسألة هكذا يبدو الملف الابتدائي للحل
 بلغة السي بلس بلس نبدأ بقراءة العدد ن
من الدخْل القياسي بعدها ننشئ مصفوفة،
ذات حجم ن ثم نملأ المصفوفة بعناصر
المتتالية، عنصرا تلو الاخر. ثم نقرأ من الدخْل القياسي بعدها نرسل الأعداد
إلى الوظيفة (أو الدالة) المسماه ماكس_بييروايز_برودكت التي
 تقوم بحساب الحل لمسألتنا فلنلقي نظرة على ما بداخل 
الوظيفة ماكس_بييروايز_برودكت حسناً، نبدأ بتهيئة
المتغير ريزلت إلى 0 ثم نمر على كل الأزواج الممكنة 
لكل عناصر المتتالية وهذا يعني، المرور على كل متغير ي ومتغير
 ج حيث ي أقل من ج نقوم بعمل هذا عن طريق حلقتين متداخلتين ولكل زوج، نتحقق إذا كان
حاصل ضربهما أكبر من قيمة 
المتغير ريزلت الحالية وإذا كان كذلك فأننا نقوم
بتحديث المتغير ريزلت إلى القيمة الجديدة أخيراً، فأننا نقوم بإعادة قيمة 
المتغير ريزلت هذه الخوارزمية صحيحة
لسبب بسيط الهدف من المسألة إيجاد
حاصل الضرب الأكبر، أليس كذلك؟ وحتى نقوم بذلك فأننا نمر
على كل الازواج في المتتالية ونختار حاصل الضرب الأكبر حسنا، لنتحقق من اذا كان ذلك صحيحاً
فلنقم، كالعادة، بترجمة البرنامج ولهذا الغرض نستخدم علامات مترجم لغة السي بلس بلس حسنا، بعد ذلك، نفحص البرنامج مثلاً، لمتتالية من 3 أعداد تتكون من الأعداد 1 إلى 3،
فسنحصل على الناتج 6 لنختبر البرنامج مرة أخرى مثلاً، متتالية من 5 اعداد تتكون من الأعداد 3 و4 و5 و1 و2 والناتج هو 20 كما هو متوقع،
لان ذلك هو حاصل ضرب العددين 4 و5 حسنا، يبدو أن هذا الحل 
صحيح فلنمضي قدماً ونقوم بتسليم هذا الحل
إلى نظام الاختبار الآلي حسنا لقد قمت بتسليم الحل بشكله الحالي
إلى نظام التقييم الآلي ولكن للأسف 
لم يتم يجتز الحل جميع الاختبارات على الأخص، هناك رسالة خطأ
من نظام التقييم الآلي لنلقي نظرة تقول الرسالة ان حلنا قد فشل في الاختبار الثالث، الذي يتكون
من عددين فقط الأول 10 أس 5، والثاني 90,000 فلننظر إذا كان بإمكاننا إعادة إنتاج
هذا النمط على جهازنا المحلي سنقوم بتشغيل برنامجنا وندخل عددين فقط 10 أس 5  و90,000 بالفعل، نتيجة لهذه المدخلات
بدلا من أن نحصل على 9 مليار كما كنا نتوقع
حصلنا على عدد عشوائي وهذا يحصل عادة عند حدوث 
فيض خارج حدود تمثيل العدد الصحيح وبالفعل فنحن نستخدم النوع القياسي
 لتمثل العدد الصحيح المسمى إنتيجر لتخزين قيمة حاصل ضرب 
العددين في ذاكرة الحاسب وبما أن 9 مليار هي أكبر من نوع تمثيل العدد الصحيح إنتيجر لذلك
فأنه لا يمكن تمثيله بالنوع إنتيجر فالذي يتوجب علينا فعله هو تمثيل
 العدد باستخدام النوع لونج لونج في لغة السي بلس بلس فلنفعل ذلك ثم نتحقق اذا أصلح المشكلة، أو بالأحرى أصلح حلنا ولذلك 
يجب علينا التغيير في كل مكان نقوم فيه بحساب حاصل الضرب وتخزينه سنقوم أولاً تغيير تهيئة هذا المتغير نغير كذلك نوع القيمة المعادة 
من الوظيفة (أو الدالة) عند حساب حاصل الضرب
للعددين نقوم بجبر مثلا، للعدد الأول الى النوع لونج لونج حسنا، وكذلك هنا، رائع. فلنترجمه مجددا نعم، فلنقم باختباره مجددا لنتأكد إذا 
 كان يعالج البيانات السابقة حسناً 10 أس 5  و90,000 عظيم، يظهر انه يخرج 9 مليار حسناً، يجب أن نكون الآن متأكدين تمام
أن حلنا صحيح حسنا لأن، في البدايةً، 
لإيجاد العدد الأكبر لحاصل الضرب سنقوم بالمرور على كل الأزواج في
 المتتالية وسنختار العدد الأكبر ما الذي يكمننا فعله غير ذلك؟ ونحن كذلك، نستخدم النوع الصحيح 
لتخزين الناتج فلنقم بتسليم حالنا الجديد
إلى نظام التقييم الآلي للأسف ما زال حالنا غير صحيح لذا في هذه الحالة، رسالة 
نظام التقييم الآلي هي فشل في الحالة 4، تم تجاوز للوقت المحدد وهذا يعني أن حالنا 
بالغ البطيء، حيث أنه للبيانات الكبيرة 
يقوم بالحساب لأكثر من ثانية فلنحاول فهم لماذا يحصل هذا أولاً، الحجم الأقصى للبيانات
هو الحجم الأقصى للمتتالية وفي هذه المسألة، وفي هذه الحالة بالتحديد
يبلغ 10 أس 5 تقريبا. لذلك ما هو عدد العمليات
المنفذة عن طريق خوارزميتنا على مثل هذه المتتالية؟ لذلك تذكر أن في خوارزميتنا
نقوم بالمرور على كل الأزواج المتاحة من الأعداد المدخلة وهذا يقترب من ن تربيع من العمليات. لذلك عندما تساوي ن 10 أس 5،
فإن عدد العمليات يصبح 10 أس 10. وهذا أكثر من مليار وتقريبا مليار واحد هو عدد العمليات
 الأساسية التي يمكن لحاسب حديث تنفيذها في ثانية واحدة ونستخلص من هذا إلى حاجتنا إلى
خوارزمية أسرع لحل هذه المسألة في الخصوص، يتوجب علينا إيجاد 
حاصل الضرب الأقصى ﻷي زوج من الأعداد، بدون المرور على كل 
زوج من الأعداد في المتتالية بحثا عن الإلهام،
لنلقي نظرة على صفحة المسألة على وجه الخصوص لنراجع
النموذج الثاني من المدخلات في هذه الحالة،
تتكون المتتالية من 10 أعداد حقيقية، والخَرْج في هذه الحالة 140. لماذا؟ حسناً، لأنه في متتاليتنا 
يوجد عددان هما 14 و10 هذان العددان هما الأكبر في الواقع. ولذلك لأي عددين غيرهما،
يكون حاصل ضربهما أقل من 140. وهذا يعطينا فكرة: لإيجاد
القيمة الأقصى لحاصل ضرب أي عددين في متتاليتنا، يكفي فعلاً إيجاد
أكبر عددين في متتاليتنا. هذا ﻷن كل الأعداد الصحيحة
في المتتالية موجبة. حسناً، فلننفذ هذه
الفكرة على ملف السي بلس بلس. حسناً، الفكرة قد تنفيذها مسبقاً
وتبدو كالتالي حسناً، الوظيفة الجديدة مسماه
ماكس_بييروايز_ برودكت_فاست وتَستَخدِم هذه الوظيفة النوع لونج لونج لتخزين الناتج ونقوم بالتالي فقط عن طريق فحص المصفوفة مرتين
نجد العددين الأكبر في الحلقة الأولى، 
نجد العدد الأكبر الأول نقوم بتخزين فهرس هذا العدد
في المتغير ماكس_إنديكس1 في الحلقة الثانية، 
نجد العدد الأكبر الثاني الفرق بين الحلقتين أن في الحلقة الثانية
نحتاج أن نتجاوز العدد الأكبر الأول خلال فحص المصفوفة لذلك ما نقوم به هو إضافة هذا
الشرط خلال الفحص حسناً، ثم نُعِيد حاصل ضرب العددين الأكبر في المصفوفة
أليس كذلك؟ فلنقم، كالعادة، بترجمة الحل ونتأكد أن كل شئ يعمل بشكل صحيح حسناً، هذا هو ملفنا الجديد المسمى
ماكس_بييروايز_برودكت_فاست نترجمه ونقوم بتشغيله أولاً
 بإعطائه متتالية صغيرة الحجم كمثال، متتالية من 3 أعداد، 2 و3 و4 
فيعيد لنا البرنامج 12 كما هو متوقع عظيم، فلنقم الآن بالتالي فلنختبر وقت التشغيل
لمتتالية كبيرة العدد لهذا، بدلاً من قراءة البيانات من الدخْل القياسي لقم بتوليد مفصوصة كبيرة هنا. فلنستخدم مصفوفة حجمها 10 أس 5 ولتكن المصفوفة مملوءة بالأصفار هيا نترجم الملف ونشغله. والناتج هو صفر مباشرة
وهذا يعني حسنا، هذا أسرع بكثير
مقارنة بالخوارزمية السابقة فقط الآن حلنا 
يجب أن يكون صحيحاً الحل سريع ويستخدم النوع الصحيح
لتخزين حاصل الضرب وهو كذلك صحيح بالطبع لانه، في الحقيقة يختار أكبر عددين أليس كذلك؟
 ثم يقوم بحساب حاصل ضربهما لا يمكن لأي حاصل ضرب أي عددين
غيرهما أن يكون أكبر ﻷننا أخترنا أكبر عددين. ولكن، للأسف،
حتى هذا الحل غير صحيح يمكنك تسليمه إلى نظام الاختبار 
الآلي ورؤية رسالة الخطأ ستكون إجابة خاطئة
لحالة اختبار معينة في الفيديو القادم، مايكل سوف
يخبرك عن اختبار الإجهاد وسوف يرشدك إلى كيفية اصلاح هذا الحل